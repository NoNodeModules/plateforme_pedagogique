<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="author" content="Raul Bethencourt Gonzalez">
		<meta name="description" content="Carpa is a pedagogical platform for modern training schools">
		<title>
			{% block title %}Admin - C&P
			{% endblock %}
		</title>
		<link rel="icon" type="image/x-icon" href="{{ asset('images/favicon.ico') }}?v=2"/>
		{% block stylesheets %}
			{{ encore_entry_link_tags('app') }}
		{% endblock %}
	</head>
	<body>
		<nav class="navbar navbar-expand-lg sticky-top bg-white">
			{% if is_granted('ROLE_TEACHER') %}
				<a class="navbar-brand ml-4" href="{{ path('teacher_index') }}">
				{% elseif is_granted('ROLE_STUDENT') %}
					<a class="navbar-brand ml-4" href="{{ path('student_index') }}">
					{% else %}
						<a class="navbar-brand ml-4" href="{{ path('user_index') }}">
						{% endif %}
						<img src="{{ asset('images/cp-logo-big.webp') }}" class="logo-carpa" alt="logo carpa">
					</a>

					<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
						<span class="navbar-toggler-icon"></span>
					</button>

					<div class="collapse navbar-collapse" id="navbarSupportedContent">
						<ul class="navbar-nav justify-content-center w-100">
							<li class="nav-item">
								{% if is_granted('ROLE_TEACHER') %}
									<a class="nav-link" href="{{ path('teacher_index') }}">MES CLASSES</a>
								{% elseif is_granted('ROLE_STUDENT') %}
									<a class="nav-link" href="{{ path('student_index') }}">MES CLASSES</a>
								{% else %}
									<a class="nav-link" href="{{ path('user_index') }}">MES CLASSES</a>
								{% endif %}
							</li>
							<li class="nav-item">
								<a class="nav-link" href="{{ path('events_calendar') }}">BOÎTE À OUTILS</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="{{ path('events_calendar') }}">MON PROFIL</a>
							</li>
						</ul>

						<div class="d-flex align-items-center nav__logout--responsive">
							<div class="nav-item">
								<a class="nav-link" href="{{ path('app_logout') }}">Déconnexion</a>
							</div>
							<div class="nav-item">
								{% if is_granted('ROLE_TEACHER') %}
									<a class="nav-link mr-2" href="{{ path('teacher_profile') }}">
										{% if teacher.avatar is defined and teacher.avatar is not null %}
											<img class="profile rounded-circle bg-black" src="{{ vich_uploader_asset(teacher.avatar) }}" alt="profil icon">
										{% else %}
											<img class="profile" src="{{ asset('images/image-profile.png') }}" alt="profil icon">
										{% endif %}
									</a>
								{% elseif is_granted('ROLE_STUDENT') %}
									<a class="nav-link mr-2" href="{{ path('student_profile') }}">
										{% if student.avatar is defined and student.avatar is not null %}
											<img class="profile rounded-circle bg-black" src="{{ vich_uploader_asset(student.avatar) }}" alt="profil icon">
										{% else %}
											<img class="profile" src="{{ asset('images/image-profile.png') }}" alt="profil icon">
										{% endif %}
									</a>
								{% else %}
									<a class="nav-link mr-2" href="{{ path('user_profile') }}">
										<img class="profile" src="{{ asset('images/image-profile.png') }}" alt="profil icon">
									</a>
								{% endif %}
							</div>
						</div>
					</div>
				</nav>

				<div class=" container-fluid">
					<div class="row">
						<nav class="col-md-3 col-lg-2 d-md-block bg-dark sidebar collapse">
							<div class="position-sticky pt-3">
								<ul class="nav flex-column align-items-center">
									{% if is_granted('ROLE_SUPER_ADMIN') %}
										<li class="nav-item">
											<a href="{{ path('app_register')}}" class="nav-link btn btn-secondary">
												Ajuter Admin
											</a>
										</li>
									{% endif %}
								</ul>
							</div>
						</nav>
						<main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
							<div class="container-sm d-flex justify-content-center flex-column  p-4 mt-5 mb-5 bg-white rounded-lg"> {% block body %}{% endblock %}
								</div>
							</main>
						</div>
					</div>
					{% block javascripts %}
						{{ encore_entry_script_tags('app') }}
					{% endblock %}
				</body>
			</body>
		</body>
	</html>
</body></html>
